== Install instructions. ==

Here be the way of getting zookeepr going.

This be instructions for Ubuntu 8.04. Main reason for this is so we can use apt
to get the latest (for now) versions of python, pylons and all that jazz. Plus
being an LTS release we felt that this would be a good platform to deploy on.

====== Dependencies ======

aptitude install python-dev python-pylons python-sqlalchemy python-simplejson \
    python-setuptools python-dnspython python-cheetah python-psycopg2 miscfiles \
    pwgen

====== PDF generation ======

You need to follow these steps for PDF generation to work:

 - Install Deps:
    aptitude install inkscape libsaxon-java

 - In /usr/local/bin create a file called saxon with the following contents
    sudo nano /usr/local/bin/saxon
 - Paste:
    #!/bin/sh
    java -classpath /usr/share/java/saxon.jar com.icl.saxon.StyleSheet "$@"
 - Set permissions:
    sudo chmod +x /usr/local/bin/saxon

====== Installing and setting up Zookeepr ======

 - To run as a user
   * export PYTHONPATH=`pwd`/lib/python2.5/site-packages
   * mkdir -p $PYTHONPATH
   * python setup.py develop  --prefix `pwd` --no-deps

 - Add this (zookeepr) directory to the PYTHONPATH so that sitecustomize.py is accessible.

 - Make a config file as follows: "paster make-config zookeepr config.ini"

 - Tweak config.ini file as appropriate 
     - Set up dburi to something appropriate (possibly sqlite:/// or a postgre setup).

 - Generate an empty database: "paster setup-app config.ini"
 
====== Running Zookeepr ======

paster serve --reload -v config.ini

====== Administering Zookeepr ======
 - First create a new user by going to /person/new
 - Then add that user to the organiser role by inserting the corresponding user and role into person_role_map
   This is usually person_id 1 and role_id 2 by default
 - You can then find most of the administration tools in /admin
